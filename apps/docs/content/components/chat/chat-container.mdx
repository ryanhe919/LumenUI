---
title: ChatContainer 聊天容器
description: 聊天界面的顶层容器组件
---

import { LivePreview } from '../../../components/LivePreview'

# ChatContainer 聊天容器

聊天界面的顶层容器，提供完整的布局结构，包含消息列表和输入框。

## 引入

```tsx
import { LMChatContainer } from '@ryanhe919/lumen-ui'
```

## 基础用法

<LivePreview code={`
<LMChatContainer
  height={350}
  messages={[
    { id: '1', role: 'user', content: '你好，请问有什么可以帮助我的？' },
    { id: '2', role: 'assistant', content: '你好！我是 AI 助手，很高兴为你服务。有什么问题可以随时问我。' },
    { id: '3', role: 'user', content: '帮我写一个 React 组件' },
    { id: '4', role: 'assistant', content: '好的，我来帮你写一个简单的 React 组件示例。' },
  ]}
  placeholder="输入消息..."
/>
`} />

## 带头部

<LivePreview code={`
<LMChatContainer
  height={350}
  header={<div className="font-semibold">AI 助手</div>}
  messages={[
    { id: '1', role: 'user', content: '你好' },
    { id: '2', role: 'assistant', content: '你好！有什么可以帮助你的吗？' },
  ]}
  placeholder="输入消息..."
/>
`} />

## 显示打字指示器

<LivePreview code={`
<LMChatContainer
  height={300}
  messages={[
    { id: '1', role: 'user', content: '请帮我解释一下 React Hooks' },
  ]}
  showTypingIndicator
  typingIndicatorText="AI 正在思考..."
  placeholder="输入消息..."
/>
`} />

## 完整示例

```tsx
import { LMChatContainer } from '@ryanhe919/lumen-ui'
import { useState } from 'react'

function ChatApp() {
  const [messages, setMessages] = useState([])
  const [isGenerating, setIsGenerating] = useState(false)

  const handleSend = async (content) => {
    // 添加用户消息
    setMessages(prev => [...prev, {
      id: Date.now().toString(),
      role: 'user',
      content,
    }])

    // 模拟 AI 响应
    setIsGenerating(true)
    const response = await fetchAIResponse(content)
    setMessages(prev => [...prev, {
      id: (Date.now() + 1).toString(),
      role: 'assistant',
      content: response,
    }])
    setIsGenerating(false)
  }

  return (
    <LMChatContainer
      height="100vh"
      messages={messages}
      onSend={handleSend}
      isGenerating={isGenerating}
      showTypingIndicator={isGenerating}
      placeholder="输入消息..."
    />
  )
}
```

## API

### Props

| 属性 | 说明 | 类型 | 默认值 |
| --- | --- | --- | --- |
| messages | 消息列表 | `ChatMessage[]` | - |
| onSend | 发送消息回调 | `(content: string) => void` | - |
| onStop | 停止生成回调 | `() => void` | - |
| isGenerating | 是否正在生成 | `boolean` | `false` |
| disabled | 禁用输入 | `boolean` | `false` |
| placeholder | 输入框占位符 | `string` | `'输入消息...'` |
| header | 头部内容 | `ReactNode` | - |
| footer | 底部额外内容 | `ReactNode` | - |
| height | 容器高度 | `number \| string` | - |
| maxHeight | 最大高度 | `number \| string` | - |
| size | 尺寸 | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl' \| '2xl'` | `'md'` |
| showTypingIndicator | 显示打字指示器 | `boolean` | `false` |
| typingIndicatorText | 打字指示器文字 | `string` | - |
| emptyContent | 空状态内容 | `ReactNode` | - |
| className | 自定义类名 | `string` | - |

### ChatMessage

| 属性 | 说明 | 类型 | 必填 |
| --- | --- | --- | --- |
| id | 消息唯一 ID | `string` | 是 |
| role | 角色 | `'user' \| 'assistant' \| 'system'` | 是 |
| content | 消息内容 | `string` | 是 |
